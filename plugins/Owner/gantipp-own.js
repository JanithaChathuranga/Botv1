// Klo mau pake, pake aja ini bkn enc cma terser aja

import jimp_1 from"jimp";import{URL_REGEX}from"@whiskeysockets/baileys";let handler=async(m,{conn:conn,args:args})=>{let botNumber=await conn.user.jid,thumbnailUrls=global.ppbot;if(!(Array.isArray(thumbnailUrls)&&thumbnailUrls.length>0))throw"Tidak ada URL ppbot yang tersedia";{let thumbnailUrl=thumbnailUrls[Math.floor(Math.random()*thumbnailUrls.length)];if(!thumbnailUrl.match(URL_REGEX))throw"URL thumbnail tidak valid";{let{img:img}=await pepe(thumbnailUrl);await conn.query({tag:"iq",attrs:{to:botNumber,type:"set",xmlns:"w:profile:picture"},content:[{tag:"picture",attrs:{type:"image"},content:img}]}),await m.reply("Berhasil memperbarui gambar profil bot")}}};handler.alias=handler.help=["setppbot"],handler.tags=["owner"],handler.command=/^bosan?$/i,handler.owner=!0;export default handler;async function pepe(media){const jimp=await jimp_1.read(media),min=jimp.getWidth(),max=jimp.getHeight(),cropped=jimp.crop(0,0,min,max);return{img:await cropped.scaleToFit(720,720).getBufferAsync(jimp_1.MIME_JPEG),preview:await cropped.normalize().getBufferAsync(jimp_1.MIME_JPEG)}}