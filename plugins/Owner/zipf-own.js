// Klo mau pake, pake aja ini bkn enc cma terser aja

import fs from"fs";import path from"path";import archiver from"archiver";let handler=async(m,{conn:conn,text:text})=>{if(!text)return void m.reply("Mohon berikan nama file atau folder yang akan di-zip");const filename=`${text}`;try{m.reply("Tunggu sebentar, sedang membuat file zip...");const output=fs.createWriteStream(path.join("tmp",`${filename}.zip`)),archive=archiver("zip",{zlib:{level:9}});archive.pipe(output),archive.directory(`./${filename}`,!1),await archive.finalize(),await conn.sendFile(m.chat,path.join("tmp",`${filename}.zip`),`${filename}.zip`),fs.unlinkSync(path.join("tmp",`${filename}.zip`))}catch(error){console.error(error),m.reply("Terjadi kesalahan dalam membuat dan mengirim file zip")}};handler.help=["zipf <namafile/folder>"],handler.tags=["owner"],handler.command=/^(zipf)$/i,handler.rowner=!0;export default handler;