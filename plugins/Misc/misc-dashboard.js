// Klo mau pake, pake aja ini bkn enc cma terser aja

let handler=async(m,{conn:conn})=>{let stats=Object.entries(db.data.stats).map((([key,val])=>{let name=Array.isArray(plugins[key]?.help)?plugins[key]?.help?.join(" & "):plugins[key]?.help||key;if(!/exec/.test(name))return{name:name,...val}}));stats=stats.sort(((a,b)=>b.total-a.total));let txt=stats.slice(0,10).map((({name:name,total:total,last:last},idx)=>(name.includes("-")&&name.endsWith(".js")&&(name=name.split("-")[1].replace(".js","")),`(${idx+1})\nCommand : *${name}*\nHit : *${total}x*\nLast Used : *${getTime(last)}*`))).join`\n\n`;m.reply(`Dashboard *${conn.user.name}*\n\n${txt}`)};handler.help=["dashboard"],handler.tags=["misc"],handler.command=/^dashboard$/i;export default handler;export function parseMs(ms){if("number"!=typeof ms)throw"Parameter must be filled with number";return{days:Math.trunc(ms/864e5),hours:Math.trunc(ms/36e5)%24,minutes:Math.trunc(ms/6e4)%60,seconds:Math.trunc(ms/1e3)%60,milliseconds:Math.trunc(ms)%1e3,microseconds:Math.trunc(1e3*ms)%1e3,nanoseconds:Math.trunc(1e6*ms)%1e3}}export function getTime(ms){let now=parseMs(+new Date-ms);return now.days?`${now.days} days ago`:now.hours?`${now.hours} hours ago`:now.minutes?`${now.minutes} minutes ago`:"a few seconds ago"}