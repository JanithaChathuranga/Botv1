// Klo mau pake, pake aja ini bkn enc cma terser aja

import fetch from"node-fetch";import sharp from"sharp";const handler=async(m,{conn:conn})=>{conn.reply(m.chat,"Sedang memuat informasi pengguna acak... Mohon tunggu sebentar",m);try{const response=await fetch("https://randomuser.me/api/"),user=(await response.json()).results[0],{name:{title:title,first:first,last:last},location:{street:{number:number,name:name},city:city,state:state,country:country,postcode:postcode,coordinates:{latitude:latitude,longitude:longitude},timezone:{offset:offset,description:description}},email:email,login:{uuid:uuid,username:username,password:password,salt:salt,md5:md5,sha1:sha1,sha256:sha256},dob:{date:date,age:age},registered:{date:registeredDate,age:registeredAge},phone:phone,cell:cell,id:{name:idName,value:idValue},picture:{large:large},nat:nat}=user,userInfo=`Title: ${title}\nFirst Name: ${first}\nLast Name: ${last}\nFull Name: ${`${first} ${last}`}\n\nLocation:\nStreet Number: ${number}\nStreet Name: ${name}\nCity: ${city}\nState: ${state}\nCountry: ${country}\nPostal Code: ${postcode}\nLatitude: ${latitude}\nLongitude: ${longitude}\nTimezone Offset: ${offset}\nTimezone Description: ${description}\n\nEmail: ${email}\n\nLogin Information:\nUUID: ${uuid}\nUsername: ${username}\nPassword: ${password}\nSalt: ${salt}\nMD5 Hash: ${md5}\nSHA1 Hash: ${sha1}\nSHA256 Hash: ${sha256}\n\nDate of Birth: ${date}\nAge: ${age}\n\nRegistration Information:\nRegistered Date: ${registeredDate}\nRegistered Age: ${registeredAge}\n\nPhone Number: ${phone}\nCell Number: ${cell}\n\nID Name: ${idName}\nID Value: ${idValue}\n\nLarge Picture: ${large}\n\nNationality: ${nat}`,imageBuffer=await(await fetch(large)).buffer(),resizedImageBuffer=await sharp(imageBuffer).resize(1e3).jpeg().toBuffer();conn.sendFile(m.chat,resizedImageBuffer,"randomuser.jpg",`Berikut informasi pengguna acak:\n\n${userInfo}`,m)}catch(error){conn.reply(m.chat,"Maaf, terjadi kesalahan. Mohon coba lagi nanti.",m),console.error(error)}};handler.help=["randomuser"],handler.tags=["internet","tools"],handler.command=/^(randomuser|randuser|ruser|ranuser|rauser|rndmusr)$/i;export default handler;