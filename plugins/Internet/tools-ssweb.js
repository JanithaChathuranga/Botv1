// Klo mau pake, pake aja ini bkn enc cma terser aja

import axios from"axios";let handler=async(m,{conn:conn,text:text,command:command,usedPrefix:usedPrefix})=>{if(!text)return m.reply(`Gunakan format ${usedPrefix+command} <url>\n\n*Contoh :* ${usedPrefix+command} https://github.com/ShirokamiRyzen`);m.reply("_Loading. . ._");var phone=await ssweb(text,"phone"),desktop=await ssweb(text,"desktop"),tablet=await ssweb(text,"tablet");"sshp"===command&&await conn.sendFile(m.chat,phone.result,"","",m,!1),"ssweb"!==command&&"sstablet"!==command||await conn.sendFile(m.chat,tablet.result,"","",m,!1),"sspc"===command&&await conn.sendFile(m.chat,desktop.result,"","",m,!1)};handler.help=["ssweb","sspc","sshp","sstablet"].map((v=>v+" <url>")),handler.tags=["internet"],handler.command=/^(ssweb|sstablet|sspc|sshp)$/i,handler.limit=!1;export default handler;async function ssweb(url,device="desktop"){return new Promise(((resolve,reject)=>{const base="https://www.screenshotmachine.com",param={url:url,device:device,cacheLimit:0};axios({url:base+"/capture.php",method:"POST",data:new URLSearchParams(Object.entries(param)),headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then((data=>{const cookies=data.headers["set-cookie"];"success"==data.data.status?axios.get(base+"/"+data.data.link,{headers:{cookie:cookies.join("")},responseType:"arraybuffer"}).then((({data:data})=>{resolve({status:200,author:"Ryzn",result:data})})):reject({status:404,author:"Ryzn",message:data.data})})).catch(reject)}))}