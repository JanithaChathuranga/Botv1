// Klo mau pake, pake aja ini bkn enc cma terser aja

let handler=async(m,{conn:conn})=>{clockString(5e5-(new Date-global.db.data.users[m.sender].lastberbru));let user=global.db.data.users[m.sender];if(new Date-global.db.data.users[m.sender].lastberbru>5e5){let attempts=0,habitats={"Hutan 🌿":["🐃 Banteng","🐅 Harimau","🐐 Kambing","🐒 Monyet","🐗 Babihutan","🐖 Babi"],"Sabana 🦁":["🐘 Gajah","🐐 Kambing","🐄 Sapi","🐖 Babi"],"Taman Panda 🐼":["🐼 Panda"],"Danau 🐊":["🐊 Buaya","🐄 Sapi","🐖 Babi"],"Lembah 🐂":["🐂 Kerbau","🐄 Sapi","🐖 Babi"],"Kebun 🐔":["🐔 Ayam"]},results={};function getRandomNumber(min,max){return Math.floor(Math.random()*(max-min+1))+min}m.reply(`🏞️ *${conn.getName(m.sender)} Sedang Berburu 🌿*\n\n`);let interval=setInterval((()=>{attempts++;let habitat=Object.keys(habitats)[Math.floor(Math.random()*Object.keys(habitats).length)],animal=function(habitat){let animalsInHabitat=habitats[habitat];return animalsInHabitat[Math.floor(Math.random()*animalsInHabitat.length)]}(habitat);results[habitat]||(results[habitat]={}),results[habitat][animal]||(results[habitat][animal]=0),results[habitat][animal]+=getRandomNumber(1,5),m.reply(`*🌿 HABITAT: ${habitat} 🌿*\n${animal}: ${results[habitat][animal]} ekor`),attempts===getRandomNumber(3,7)&&(clearInterval(interval),setTimeout((()=>function(){let res=`*🏞️ HASIL BERBURU ${conn.getName(m.sender)} 🏞️*\n\n`;for(let habitat in results){res+=`*${habitat}*\n`;for(let animal in results[habitat]){let count=results[habitat][animal],animalName=animal.split(" ")[1];res+=`${animal}: ${count} ekor\n`,user[animalName.toLowerCase()]+=count}res+="\n"}res+=`*${author}* 🏕️`,conn.reply(m.chat,res,null)}()),2e3),user.lastberburu=1*new Date)}),5e3)}else{let hsl=`*⏳ HASIL BERBURU ${conn.getName(m.sender)} ⏳*\n\n`,isEmpty=!0;for(let animal in user)user[animal]>0&&(hsl+=`${animal}: ${user[animal]} ekor\n`,isEmpty=!1);isEmpty&&(hsl+="Tidak ada hewan yang kamu dapatkan.\n"),hsl+=`\n*${author}* 🏕️`,m.reply(hsl)}};handler.help=["berburu"],handler.tags=["rpg"],handler.command=/^(berburu)$/i,handler.group=!0;export default handler;function clockString(ms){return["\n"+(isNaN(ms)?"--":Math.floor(ms/864e5))," *Hari ☀️*\n ",isNaN(ms)?"--":Math.floor(ms/36e5)%24," *Jam 🕐*\n ",isNaN(ms)?"--":Math.floor(ms/6e4)%60," *Menit ⏰*\n ",isNaN(ms)?"--":Math.floor(ms/1e3)%60," *Detik ⏱️* "].map((v=>v.toString().padStart(2,0))).join("")}