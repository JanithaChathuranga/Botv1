// Klo mau pake, pake aja ini bkn enc cma terser aja

import{exec}from"child_process";import{promisify}from"util";let handler=async(m,{conn:conn,isROwner:isROwner,usedPrefix:usedPrefix,command:command,text:text})=>{if(await m.reply(global.wait),!isROwner)return;const array=Object.keys(plugins),execAsync=promisify(exec),input=text;if(!/^[a-zA-Z0-9-_.]+$/.test(input))return void await m.reply("Input tidak valid. Harap gunakan karakter yang aman.");const index=array.findIndex((item=>item.includes(input)));if(-1!==index){const fileToCat=array[index];try{const{stdout:stdout,stderr:stderr}=await execAsync(`cat ${fileToCat}`),output=stdout||stderr;await m.reply(output)}catch(error){const errorMessage=`Terjadi kesalahan: ${error.message}`;await m.reply(errorMessage)}}else{const notFoundMessage=`Input ${input} tidak ditemukan dalam array. Berikut adalah daftar dengan nomor urutan:\n${array.map((item=>item.split("/").pop().replace(".js",""))).map(((item,i)=>`${i+1}. ${item}`)).join("\n")}\nContoh penggunaan: Untuk mencari bagian, ketik *.gp anti-audio*`;await m.reply(notFoundMessage)}};handler.command=/^(nih)$/i,handler.rowner=!0;export default handler;