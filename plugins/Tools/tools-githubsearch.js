// Klo mau pake, pake aja ini bkn enc cma terser aja

import fetch from"node-fetch";let handler=async(m,{text:text})=>{if(!text)throw"Imput Query?";let res=await fetch(global.API("https://api.github.com","/search/repositories",{q:text})),json=await res.json();if(200!==res.status)throw json;let str=json.items.map(((repo,index)=>`\n${1+index}. *${repo.full_name}*${repo.fork?" (fork)":""}\n_${repo.html_url}_\n_Dibuat pada *${formatDate(repo.created_at)}*_\n_Terakhir update pada *${formatDate(repo.updated_at)}*_\n👁  ${repo.watchers}   🍴  ${repo.forks}   ⭐  ${repo.stargazers_count}\n${repo.open_issues} Issue${repo.description?`\n*Deskripsi:*\n${repo.description}`:""}\n*Clone:* \`\`\`$ git clone ${repo.clone_url}\`\`\`\n`.trim())).join("\n\n");m.reply(str)};handler.help=["githubsearch"].map((v=>v+" <query>")),handler.tags=["tools"],handler.command=/^g(ithub|h)search$/i;export default handler;function formatDate(n,locale="id"){return new Date(n).toLocaleDateString(locale,{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})}