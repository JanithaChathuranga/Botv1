// Klo mau pake, pake aja ini bkn enc cma terser aja

import axios from"axios";let handler=async(m,{conn:conn,text:text,usedPrefix:_p})=>{if(!text)throw"Id?";let res=(await axios.get(API("can","/api/anime/nekopoi/detail",{id:text}))).data;try{let v=res.info_meta,tekss=res.episode.map((v=>`${v.title}\nUpload : ${v.date||"unknown"} || Id : ${v.id}`)).filter((v=>v)).join("\n\n");await m.reply(`*Title :* ${res.title}\n*Id :* ${res.id||"-"}\n*Date :* ${res.date||"-"}\n*Japanese Title :* ${v.aliases||"-"}\n*Score :* ${v.skor||"-"}\n*Produser :* ${v.produser||"-"}\n*Status :* ${v.status||"-"}\n*Total Eps :* ${v.episode||"-"}\n*Durasi :* ${v.durasi||"-"}\n*Release :* ${v.tayang||"-"}\n*Genre :* ${v.genre||"-"}\n\n\n${tekss}`)}catch{let v=res.stream,cap=`*Title :* ${res.title}\n*Id :* ${res.id||"-"}\n*Date :* ${res.date||"-"}\n*Deskripsi :* ${res.series.content||"unknown"}\n\n`;for(let x of v)cap+=`*Link :* ${x.link||"-"}\n`,cap+="\n";await conn.sendFile(m.chat,res.image||res.series.image,"nekopoi.jpg",cap,m)}};handler.help=["nekopoiinfo"].map((v=>v+" <id>")),handler.tags=["tools"],handler.command=/^(nekoinfo|nekopoiinfo)$/i;export default handler;