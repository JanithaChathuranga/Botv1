// Klo mau pake, pake aja ini bkn enc cma terser aja

import uploadImage from"../../lib/uploadImage.js";import{sticker}from"../../lib/sticker.js";let handler=async(m,{conn:conn,text:text,usedPrefix:usedPrefix,command:command})=>{let[atas,bawah]=text.split`|`,q=m.quoted?m.quoted:m,mime=(q.msg||q).mimetype||"";if(!mime)throw`balas gambar dengan perintah\n\n${usedPrefix+command} <${atas||"teks atas"}>|<${bawah||"teks bawah"}>`;if(!/image\/(jpe?g|png)/.test(mime))throw`_*Mime ${mime} tidak didukung!*_`;let img=await q.download(),url=await uploadImage(img),meme=`https://api.memegen.link/images/custom/${encodeURIComponent(atas||"")}/${encodeURIComponent(bawah||"")}.png?background=${url}`,stiker=await sticker(!1,meme,global.packname,global.author);stiker&&await conn.sendFile(m.chat,stiker,"",author,m,"",{asSticker:1})};handler.help=["smeme <teks atas>|<teks bawah>"],handler.tags=["tools"],handler.command=/^(smeme)$/i,handler.limit=!0;export default handler;