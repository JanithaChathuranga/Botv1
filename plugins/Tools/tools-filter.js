// Klo mau pake, pake aja ini bkn enc cma terser aja

import uploadImage from"../../lib/uploadImage.js";import{createSticker}from"wa-sticker-formatter";import fs from"fs";const effects=["jail","gay","glass","wasted","triggered"];let handler=async(m,{conn:conn,args:args,text:text,usedPrefix:usedPrefix,command:command})=>{let q=m.quoted?m.quoted:m,mime=(q.msg||q).mimetype||q.mediaType||"",effect=text.trim().toLowerCase();if(!effects.includes(effect))throw`\n*Usage:* ${usedPrefix}stickmaker <effectname>\n*Example:* ${usedPrefix}stickmaker jail\n\n*List Effect:*\n${effects.map((effect=>`_> ${effect}_`)).join("\n")}\n`.trim();if(/image/g.test(mime)&&!/webp/g.test(mime))try{let img=await(q.download?.()),out=await uploadImage(img),apiUrl=global.API("https://some-random-api.com/canvas/",encodeURIComponent(effect),{avatar:out});await conn.sendFile(m.chat,apiUrl,"atet.webp","",m)}catch(e){console.log(e)}else m.reply(`Kirim Gambar Dengan Caption *${usedPrefix+command}* Atau Tag Gambar Yang Sudah Dikirim`)};handler.help=["filter"],handler.tags=["tools"],handler.command=/^(filter)$/i;export default handler;