// Klo mau pake, pake aja ini bkn enc cma terser aja

import yts from"yt-search";import fs from"fs";let handler=async(m,{conn:conn,text:text,usedPrefix:usedPrefix,command:command})=>{if(!text)throw`*[â—INFORMATIONâ—] THE NUMBER YOU ARE SEARCHING FOR WAS NOT FOUND PLEASE ENTER THE CORRECT NUMBER/TITULO*\n\n*â€”â—‰ EJEMPLO:*\n*${usedPrefix+command} Enter a video title*`;try{let vids_={from:m.sender,urls:[]};global.videoList||(global.videoList=[]),global.videoList[0]?.from==m.sender&&delete global.videoList;let results=await yts(text),textoInfo=`*[â—] You can download the videos you want in the following ways:*\n    â—‰ ${usedPrefix}audio <nomor>\n    â—‰ ${usedPrefix}video <nomor>\n\n    *â€”â—‰ Contoh:*\n    *â—‰ ${usedPrefix}audio 5*\n    *â—‰ ${usedPrefix}video 8*`.trim(),teks=results.all.map(((v,i)=>{let link=v.url;return vids_.urls.push(link),`[${i+1}] ${v.title}\nâ†³ ğŸ« *_Link :_* ${v.url}\nâ†³ ğŸ•’ *_Durasi :_* ${v.timestamp}\nâ†³ ğŸ“¥ *_Diunggah :_* ${v.ago}\nâ†³ ğŸ‘ *_Ditonton :_* ${v.views}`})).join("\n\nâ—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦â—¦\n\n");conn.sendFile(m.chat,results.all[0].thumbnail,"yts.jpeg",textoInfo+"\n\n"+teks,m),global.videoList.push(vids_)}catch{await m.reply("*[â—INFORMATIONâ—] AN ERROR HAS OCCURRED, PLEASE PROVIDE THE CORRECT NUMBER FOR THE VIDEO CONCENTRATION*")}};handler.help=["playlist *<teks>*"],handler.tags=["downloader"],handler.command=/^playlist|playlist2$/i;export default handler;